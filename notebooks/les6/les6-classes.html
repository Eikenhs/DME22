<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Raoul Grouls &amp; Jan-Willem Lankhaar">

<title>Classes and object-oriented programming in Python</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="les6-classes_files/libs/clipboard/clipboard.min.js"></script>
<script src="les6-classes_files/libs/quarto-html/quarto.js"></script>
<script src="les6-classes_files/libs/quarto-html/popper.min.js"></script>
<script src="les6-classes_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="les6-classes_files/libs/quarto-html/anchor.min.js"></script>
<link href="les6-classes_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="les6-classes_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="les6-classes_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="les6-classes_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="les6-classes_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#what-you-will-learn" id="toc-what-you-will-learn" class="nav-link" data-scroll-target="#what-you-will-learn">What you will learn</a></li>
  <li><a href="#object-oriented-programming-objects-and-classes" id="toc-object-oriented-programming-objects-and-classes" class="nav-link" data-scroll-target="#object-oriented-programming-objects-and-classes">Object-oriented programming: objects and classes</a>
  <ul class="collapse">
  <li><a href="#everything-is-an-object" id="toc-everything-is-an-object" class="nav-link" data-scroll-target="#everything-is-an-object">Everything is an object</a></li>
  <li><a href="#object-oriented-programming" id="toc-object-oriented-programming" class="nav-link" data-scroll-target="#object-oriented-programming">Object-oriented programming</a></li>
  <li><a href="#classes-define-objects" id="toc-classes-define-objects" class="nav-link" data-scroll-target="#classes-define-objects">Classes define objects</a></li>
  <li><a href="#how-to-write-classes" id="toc-how-to-write-classes" class="nav-link" data-scroll-target="#how-to-write-classes">How to write classes</a></li>
  <li><a href="#a-closer-look-at-the-class-definition" id="toc-a-closer-look-at-the-class-definition" class="nav-link" data-scroll-target="#a-closer-look-at-the-class-definition">A closer look at the class definition</a></li>
  <li><a href="#adding-behavior" id="toc-adding-behavior" class="nav-link" data-scroll-target="#adding-behavior">Adding behavior</a></li>
  <li><a href="#dunder-methods" id="toc-dunder-methods" class="nav-link" data-scroll-target="#dunder-methods">‘Dunder’ methods</a></li>
  </ul></li>
  <li><a href="#relationship-between-classes" id="toc-relationship-between-classes" class="nav-link" data-scroll-target="#relationship-between-classes">Relationship between classes</a>
  <ul class="collapse">
  <li><a href="#the-pedigree-of-classes" id="toc-the-pedigree-of-classes" class="nav-link" data-scroll-target="#the-pedigree-of-classes">The pedigree of classes</a></li>
  </ul></li>
  <li><a href="#data-classes" id="toc-data-classes" class="nav-link" data-scroll-target="#data-classes">Data classes</a></li>
  <li><a href="#using-classes-in-your-own-code" id="toc-using-classes-in-your-own-code" class="nav-link" data-scroll-target="#using-classes-in-your-own-code">Using classes in your own code</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Classes and object-oriented programming in Python</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Raoul Grouls &amp; Jan-Willem Lankhaar </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>It is often stated that in Python everything is an object. This is easy said, but it may not be clear for everyone what that exactly means. What is an <em>object</em>? What is a <em>class</em>? And how to these concepts relate? In this lesson you will learn what objects and classes in Python are and why it is important to know about <em>object-oriented programming</em> for data analysis.</p>
</section>
<section id="what-you-will-learn" class="level1">
<h1>What you will learn</h1>
<ul>
<li>What an object in Python is</li>
<li>What a class is and how objects and classes relate to each other</li>
<li>Why classes and object-oriented programming are relevant</li>
<li>How classes relate to each other</li>
<li>How to write classes</li>
<li>What built-in properties classes have in Python</li>
<li>Why dataclasses are a useful type of classes</li>
<li>When to use classes in your own code</li>
</ul>
</section>
<section id="object-oriented-programming-objects-and-classes" class="level1">
<h1>Object-oriented programming: objects and classes</h1>
<section id="everything-is-an-object" class="level2">
<h2 class="anchored" data-anchor-id="everything-is-an-object">Everything is an object</h2>
<p>In Python, an object groups related data and functions in a single unit.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="les6-classes_files/figure-html/mermaid-figure-1.png" class="img-fluid figure-img" width="200"></p>
<p></p><figcaption class="figure-caption">Objects group related data and functions</figcaption><p></p>
</figure>
</div>
<p>Since, everything is an object in Python, the string <code>"hello world"</code> should also be an object.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">"hello world"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It is obvious what the <em>data part</em> of the object <code>s</code> is: the sequence of characters <kbd>h</kbd><kbd>e</kbd><kbd>l</kbd><kbd>l</kbd><kbd>o</kbd><kbd> </kbd><kbd>w</kbd><kbd>o</kbd><kbd>r</kbd><kbd>l</kbd><kbd>d</kbd>.</p>
<p>The <em>behavior part</em> of <code>s</code> neither comes as a great surprise because it is well known that you can operate on strings in several ways using the <code>.</code>-notation:</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>s.capitalize()        </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 'Hello world'</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>s.upper()</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 'HELLO WORLD'</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>s.replace(<span class="st">'world'</span>, <span class="st">'everyone'</span>)   </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 'hello everyone'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So the object <code>s</code> bundles a sequence of characters and a set of functions that operate on sequences of characters.</p>
<p>The term ‘object’ corresponds fairly well with how we interpret the term in daily live. In daily practice, objects are things you can manipulate. The same goes for objects in Python.</p>
</section>
<section id="object-oriented-programming" class="level2">
<h2 class="anchored" data-anchor-id="object-oriented-programming">Object-oriented programming</h2>
<p>The concept of objects and their manipulation is at the core of the Python language because it is an <em>object-oriented programming language</em>. Object-orientation makes it possible to realize three important design principles in computer programs:</p>
<ul>
<li><strong>Encapsulation</strong>. Regulate access to the data within an object and prevent unnecessary arbitrary access.</li>
<li><strong>Inheritance</strong>. Allow the transfer of properties from object types to more specialized object types.</li>
<li><strong>Polymorphism</strong>. The same operation has a different meaning for different object types.</li>
</ul>
<p>Apart from inheritance, we won’t dive into the details of these concepts here.</p>
</section>
<section id="classes-define-objects" class="level2">
<h2 class="anchored" data-anchor-id="classes-define-objects">Classes define objects</h2>
<p>Objects may differ in what data they can store as well as in their behavior. The structure and behavior of an object is governed by its <em>class</em>. Hence, a class is often called the blueprint of an object. Along the same line, an object is called an <em>instance</em> of a class.</p>
<p>The <code>type</code> function reveals the class of an object (i.e.&nbsp;its type). The terms class and type can more or less be used interchangeably.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(s)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># str</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="fl">2.718281828459045</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(x)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Float</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For floating point numbers other operations are relevant than for strings. While <code>upper()</code> and <code>capitalize()</code> functions make sense for a string object, they are not relevant for a floating point number. On the other hand, the <code>as_integer_ratio()</code> function, which shows how a floating point number (with has finite precision) can be represented as the ratio of two integer numbers, makes only sense for floating point numbers.</p>
<p>To find out what <em>attributes</em> (i.e.&nbsp;which data and functions are defined for its class) an object has, you can use the <code>dir()</code> function. This will return a list of all attributes of an object.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(s)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># str</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="bu">dir</span>(s)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ['__add__',</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#  '__class__',</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   ...</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#  'title',</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  'translate',</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  'upper',</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co">#  'zfill']</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(x)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co"># float</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="bu">dir</span>(x)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ['__abs__',</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co"># '__add__',</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co">#  ...</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 'hex',</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 'imag',</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 'is_integer',</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="co"># 'real']</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The function attributes of a class are called <em>methods</em>. However, apart from their membership of the class (and a special argument), they work like any other function.</p>
</section>
<section id="how-to-write-classes" class="level2">
<h2 class="anchored" data-anchor-id="how-to-write-classes">How to write classes</h2>
<p>What makes object-oriented programming languages so powerful is that you can define your own classes.</p>
<p>If, for example, you work with graphical or geographical data, it might come in handy to be able to manipulate points and coordinates. Let’s define our own <code>Coordinates</code> class.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Coordinates:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">"""A rectangular coordinate pair in a flat plane."""</span>     <span class="co"># The class's doc string.</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x, y):</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.x <span class="op">=</span> x</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.y <span class="op">=</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that this is only the blueprint (the design) of the class. We will take a closer look at the exact meaning of the code below. If we execute the code nothing seems to happen.</p>
<p>We can create an object (i.e.&nbsp;an instance) of our newly created class:</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> Coordinates(<span class="dv">10</span>, <span class="dv">15</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> Coordinates(<span class="dv">1</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The objects <code>c</code> and <code>d</code> are instances of our <code>Coordinates</code> class. We instantiate objects of a certain class by calling the class name as if it were a function.</p>
<p>Objects of our class can be treated like any other object:</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(c)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># __main__.Coordinates</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="bu">dir</span>(c)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># ['__class__',  </span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  '__delattr__',</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#  '__dict__',</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#  ...</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"># '__subclasshook__',</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">#  '__weakref__',</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co">#  'x',</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">#  'y']</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that in addition to our attributes <code>x</code> and <code>y</code> (the actual coordinates), our class obtained a lot more attributes, most of which start and end with <code>__</code>. We’ll talk about these later.</p>
</section>
<section id="a-closer-look-at-the-class-definition" class="level2">
<h2 class="anchored" data-anchor-id="a-closer-look-at-the-class-definition">A closer look at the class definition</h2>
<p>Let’s take a closer look at our class definition. After the headline <code>class Coordinate:</code>, we can define one or more methods at the next indentation level. In this case, we defined a single method with a special name <code>__init__()</code>.</p>
<p>Almost every class defines an <code>__init__()</code> method. The <code>__init__()</code> method is called when a new object of a class is instantiated. So when we instantiated object <code>c</code>:</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> Coordinates(<span class="dv">10</span>, <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>this was (more or less) translated to:</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> Coordinates.<span class="fu">__init__</span>(..., <span class="dv">10</span>, <span class="dv">15</span>)         <span class="co"># For now, ignore the ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is more or less the case because we ignored the argument with the peculiar name <code>self</code>. Every method of a class (except class and static methods we will talk about later) is assumed to have at least one argument and this argument represents the instance of the class (i.e.&nbsp;the object). This argument is almost always given the name <code>self</code>.</p>
<p>The <code>self</code> argument gives us access to the object attributes, i.e.&nbsp;its variables and methods. Because it represents an object we use the <code>.</code>-notation for that. For example <code>self.x</code> and <code>self.y</code> give us access to the object attributes <code>x</code> and <code>y</code> regardless of ‘where we are in the class’.</p>
<p>This also holds for methods. If our class would have defined another method <code>special_coordinate_operation()</code>, we could have referred to it from within the class by <code>self.special_coordinate_operation()</code>.</p>
<p>Note that <code>self</code> is an internal name. It is only used <em>within</em> the class. Outside it we use the object name. So within the methods of object <code>c</code> we use <code>self.x</code> to refer to <code>c.x</code> and <code>self.y</code> to refer to <code>c.y</code>.</p>
<p>Now that we understand the role of the <code>self</code> argument, we are able to understand the definition of the <code>__init__</code>-method:</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x, y):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>      <span class="va">self</span>.x <span class="op">=</span> x</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>      <span class="va">self</span>.y <span class="op">=</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This method expects the <code>self</code> parameter (which is automatically replaced with the object instance) and two additional parameters (the <span class="math inline">\(x\)</span> and the <span class="math inline">\(y\)</span> coordinate). Thus, when we created object <code>c</code> with <code>c = Coordinates(10, 15)</code>, the following happened:</p>
<ol type="1">
<li>A new object instance <code>c</code> of the <code>Coordinates</code> class was created</li>
<li>The method <code>c.__init__(10, 15)</code> was run</li>
</ol>
<p>Note that the argument <code>self</code> disappeared and that the <code>.</code>-notation was used instead.</p>
</section>
<section id="adding-behavior" class="level2">
<h2 class="anchored" data-anchor-id="adding-behavior">Adding behavior</h2>
<p>Our class groups the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> coordinates of a point in a single variable and we can refer to them using the <code>.</code>-notation and the object name:</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> Coordinates(<span class="dv">10</span>, <span class="dv">15</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Our point is located at (</span><span class="sc">{</span>c<span class="sc">.</span>x<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>c<span class="sc">.</span>y<span class="sc">}</span><span class="ss">)'</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Our point is located at (10, 15)</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Move to the right:</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>c.x <span class="op">=</span> c.x <span class="op">+</span> <span class="dv">5</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Now our point moved to (</span><span class="sc">{</span>c<span class="sc">.</span>x<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>c<span class="sc">.</span>y<span class="sc">}</span><span class="ss">)'</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Now our point moved to (15, 15)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Though nice this is of limited use because we haven’t defined any behavior in our class yet. We could have accomplished the same using a tuple or a dictionary:</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A tuple:</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>(<span class="dv">10</span>, <span class="dv">15</span>)        <span class="co"># Convention: (x, y)</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A dictionary: </span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> { <span class="st">'x'</span>: <span class="dv">10</span>, <span class="st">'y'</span>: <span class="dv">15</span> }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s say that we have a special requirement and we want to able to do some basic transformations on the coordinates: we want to mirror them easily in the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> axis.</p>
<p>We can define our own methods to accomplish this:</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Coordinates:</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">"""A rectangular coordinate pair in a flat plane."""</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x, y):</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.x <span class="op">=</span> x</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.y <span class="op">=</span> y</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> mirror_in_x(<span class="va">self</span>):</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.y <span class="op">=</span> <span class="op">-</span><span class="va">self</span>.y    <span class="co"># No change in x coordinate</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> mirror_in_y(<span class="va">self</span>):</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.x <span class="op">=</span> <span class="op">-</span><span class="va">self</span>.x    <span class="co"># No change in y coordinate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we have defined behavior in our class that we can use on its objects:</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> Coordinates(<span class="dv">10</span>, <span class="dv">15</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>c.mirror_in_x()</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Now c is mirrored in the x axis: (</span><span class="sc">{</span>c<span class="sc">.</span>x<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>c<span class="sc">.</span>y<span class="sc">}</span><span class="ss">)'</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Now c is mirrored in the x axis: (10, -15)</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>c.mirror_in_y()</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Now c is mirror in the y axis as well: (</span><span class="sc">{</span>c<span class="sc">.</span>x<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>c<span class="sc">.</span>y<span class="sc">}</span><span class="ss">)'</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Now c is mirrored in the y axis as wel: (-10, -15)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dunder-methods" class="level2">
<h2 class="anchored" data-anchor-id="dunder-methods">‘Dunder’ methods</h2>
<p>As you may have noticed from the output of the <code>dir()</code> statements, each class contains a number of attributes enclosed by double underscores (e.g.&nbsp;<code>__le__</code>). These so-called ‘dunder’ attributes define default behavior that you can override. We will focus on the dunder methods here.</p>
<p>These dunder methods provide very powerful and elegant functionality. Many of these methods are called under the hood when you issue a built-in function.</p>
<p>For example, on a <code>list</code> object, the built-in <code>len()</code> function calls the <code>list.__len__()</code> method under the hood. In the same way, the <code>str()</code> function calls the <code>__str__()</code> method of an object.</p>
<p>Thus, if we define dunder methods in our class, Python calls these methods when we issue built-in functions on our object.</p>
<p>In our <code>Coordinates</code> class, we could add a <code>__abs__()</code> method that calculates the vector length of our coordinates (with respect to the origin) using the Pythagorean theorem. We could also add a ‘<strong>str</strong>()’ method that provides a nice string presentation of our coordinates.</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Coordinates:</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__abs__</span>(<span class="va">self</span>):</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Return the vector length of the coordinate pair with respect to the origin"""</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> math.sqrt(<span class="va">self</span>.x<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="va">self</span>.y<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">print</span>(<span class="ss">f'(</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>x<span class="sc">:.3f}</span><span class="ss">, </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>y<span class="sc">:.3f}</span><span class="ss">)'</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> Coordinates(<span class="dv">10</span>, <span class="dv">15</span>)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="bu">abs</span>(c)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 18.027756377319946</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="bu">str</span>(c)</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="co"># (10.000, 15.000)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There are many more dunder methods we can use. The real power shines when we define our own arithmetics. We could define the <strong>add</strong> and <strong>sub</strong> methods that are called when we use the <code>+</code> and <code>-</code> operators:</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Coordinates:</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__abs__</span>(<span class="va">self</span>):</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__add__</span>(<span class="va">self</span>, other_coordinate):</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="va">self</span>.x <span class="op">+</span> other_coordinate.x</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="va">self</span>.y <span class="op">+</span> other_coordinate.y</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Coordinates(x, y)    <span class="co"># Return a new Coordinates object</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__sub__</span>(<span class="va">self</span>, other_coordinate):</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="va">self</span>.x <span class="op">-</span> other_coordinate.x</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="va">self</span>.y <span class="op">-</span> other_coordinate.y</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Coordinates(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>With these added to our class, we can use <code>Coordinate</code> objects as follows:</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> Coordinates(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> Coordinates(<span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> a <span class="op">+</span> b</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(c)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># (7.000, 4.0000)</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> a <span class="op">-</span> b</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(d)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># (3.000, 2.000)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The same holds for other arithmetic operators, binary operators (e.g.&nbsp;<code>&lt;</code>, <code>&amp;</code>) and augmented arithmetic assignments (e.g.&nbsp;<code>+=</code>). By defining these in your own classes, you can create very powerful objects and write operations on them very concisely and intuitively.</p>
<p>More information on the dunder methods you can define (or, formally more correct: override), you can find in the <a href="https://docs.python.org/3/reference/datamodel.html?highlight=__add__#emulating-numeric-types">Python documentation</a>.</p>
</section>
</section>
<section id="relationship-between-classes" class="level1">
<h1>Relationship between classes</h1>
<p>One of the reasons why object-oriented programming has been so pervasive and successful in programming for such a long time, is that you can relate classes to each other. Especially, the concept of inheritance is very powerful. It enables classes to inherit attributes from each other.</p>
<p>Suppose that, in addition to our <code>Coordinates</code> class, we want to define another class <code>Shape</code> that defines geometric shapes.</p>
<p>We could do that as follows:</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Shape:</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  shape_type <span class="op">=</span> <span class="st">'Shape'</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, anchor_point: Coordinates, color: <span class="bu">str</span>):</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.anchor_point <span class="op">=</span> anchor_point</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.color <span class="op">=</span> color</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> move(<span class="va">self</span>, new_position: Coordinates):</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Set the anchor point of the shape to a new position"""</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.anchor_point <span class="op">=</span> new_position</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> change_color(<span class="va">self</span>, new_color: <span class="bu">str</span>):</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Change the color of the shape"""</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.color <span class="op">=</span> new_color</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note the variable <code>shape_type</code>. It is a class variable (instead of an instance). All objects of this class refer to the same value.</p>
<p>This class is fairly general. It may not be very practical in daily use. Perhaps we want to be a bit more concrete and use a rectangle object in our code. A rectangle has a width and a height. Let’s assume that the upper left corner of our rectangle is our anchor point.</p>
<p>Using class inheritance we can inherit the properties of <code>Shape</code> in a new class <code>Rectangle</code>.</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Rectangle(Shape):      <span class="co"># Note the reference to Shape</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  shape_type <span class="op">=</span> <span class="st">'Rectangle'</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, anchor_point: Coordinates, color: <span class="bu">str</span>, width: <span class="bu">float</span>, height: <span class="bu">float</span>):</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">super</span>().<span class="fu">__init__</span>(anchor_point, color)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.width <span class="op">=</span> width</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.height <span class="op">=</span> height</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> area(<span class="va">self</span>):</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">self</span>.width <span class="op">*</span> <span class="va">self</span>.height</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We use the <code>super()</code> function to access attributes of the parent class (<code>Shape</code> in this case).</p>
<p>Now, let’s instantiate some objects of these classes and to look at their properties.</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>shape_anchor <span class="op">=</span> Coordinates(<span class="dv">5</span>, <span class="dv">4</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> Shape(anchor_point<span class="op">=</span>shape_anchor, color<span class="op">=</span><span class="st">'white'</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(s.shape_type)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Shape</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(s.anchor_point)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># (5.000, 4.000)</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>s.move(Coordinates(<span class="dv">6</span>, <span class="dv">6</span>))</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(s.anchor_point)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co"># (6.000, 6.000)</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>rectangle_anchor <span class="op">=</span> Coordinates(<span class="dv">3</span>, <span class="dv">10</span>)</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> Rectangle(rectangle_anchor, width<span class="op">=</span><span class="dv">5</span>, height<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(s.shape_type)</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Rectangle</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>These results should not come as a surprise. What, however, may be surprising is that we can move the rectangle using the <code>move</code> attribute although we didn’t define it (explicitly).</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>r.move(Coordinates(<span class="dv">4</span>, <span class="dv">2</span>))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(r.anchor_point)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># (4.000, 2.000)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We are able to use the <code>move</code> attribute because the <code>Rectangle</code> class is a <em>subclass</em> of the <code>Shape</code> class and automatically inherited all properties of <code>Shape</code>.</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="bu">dir</span>(r)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ['__class__', </span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># '__delattr__', </span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   ...</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 'anchor_point', </span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 'area', </span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 'change_color', </span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 'color', </span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 'height', </span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 'move', </span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 'shape_type', </span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 'width']</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can extend this further by also subclassing the <code>Rectangle</code> class. Let’s say we want to have a <code>Square</code> class, which is obviously a special type of rectangle.</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Square(Rectangle):</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, width, color):</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">super</span>().<span class="fu">__init__</span>(width<span class="op">=</span>width, height<span class="op">=</span>width, color<span class="op">=</span>color)    <span class="co"># Call the Rectangle.__init__</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So, now our <code>Square</code> class inherits all properties of <code>Rectangles</code> as well as all properties of <code>Shape</code>.</p>
<p>In addition to inheriting properties, all subclasses can serve as full representatives of their superclasses. So if your code needs expects a shape class at a certain point, you may as well insert a <code>Square</code>-object. This is an example of what is called <em>polymorphism</em>.</p>
<p>The encapsulation, inheritance and polymorphism principles make object-oriented programming a very powerful paradigm. It enables a lot of abstraction and re-use of functionality.</p>
<section id="the-pedigree-of-classes" class="level2">
<h2 class="anchored" data-anchor-id="the-pedigree-of-classes">The pedigree of classes</h2>
<p>In Python, all classes descend from either the <code>object</code> or the <code>Exception</code> class. That’s why you will find a log of attributes you didn’t define yourself when you define a new class.</p>
<p>As we have already seen, you can use the built-in <code>type()</code> function to see of what class a certain object is. However, this will only return its class name. It doesn’t tell anything about its ascendents. Because of polymorphism you sometimes need to check whether a class descends from a certain class.</p>
<p>If, for example, we obtain a <code>Square</code>-object, we might want to know whether it can serve as a <code>Shape</code>. We can use the <code>isinstance()</code> function for that.</p>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">isinstance</span>(r, Shape)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This explains why we can sometimes replace a Boolean expression with an object. Somewhere in the pedigree of such classes, they descend from the <code>bool</code> class.</p>
<p>Note that <code>bool</code> itself is a subclass of <code>int</code>:</p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="bu">bool</span>()</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(a)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># bool</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="bu">isinstance</span>(a, <span class="bu">int</span>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="data-classes" class="level1">
<h1>Data classes</h1>
<p>Dataclasses are a special type of classes that were introduced fairly recently in Python. They make it easy to write simple classes to store data without having to write a lot of additional (overhead) code.</p>
<p>The <code>dataclass</code> is part of the <code>dataclasses</code> package and you use it with the <code>@dataclass</code> decorator (a decorator uses the <code>@</code> notation).</p>
<p>The following example is taking from the Python documentation:</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dataclasses <span class="im">import</span> dataclass</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="at">@dataclass</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> InventoryItem:</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Class for keeping track of an item in inventory."""</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    name: <span class="bu">str</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    unit_price: <span class="bu">float</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    quantity_on_hand: <span class="bu">int</span> <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> total_cost(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.unit_price <span class="op">*</span> <span class="va">self</span>.quantity_on_hand</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that no (explicit) <code>__init__()</code>-method is needed.</p>
<p>Especially for data analysis projects, data classes may come in as a handy tool to define simple data structures.</p>
</section>
<section id="using-classes-in-your-own-code" class="level1">
<h1>Using classes in your own code</h1>
<p>When do you use classes in your own code?</p>
<p>There is no short and easy answer to the question as to when you should use classes in your code. It is obviously a matter of taste and preference.</p>
<p>A few hints that may help to decide whether or not:</p>
<p>Consider using classes if you have:</p>
<ul>
<li><strong>Logical units</strong>. If you are able to discriminate logical units, entities, concepts or objects in your (business) problem and it would make life easier if you are able to manipulate these.</li>
<li><strong>Repeated function arguments</strong>. It can be an important signal if you repeat the same function arguments over and over again. It may make life easier if you group these functions into a class and make the data available within it.</li>
<li><strong>When you have to</strong>. For some libraries it is required to use classes. For example, some packages require that you define your model in a class.</li>
<li><strong>Custom exceptions</strong>. These types of classes are trivial to define but they may make your code much more robust. Refer to the Python documentation to learn more about <code>Exception</code> classes.</li>
</ul>
<p>In some programming languages, it is very common to always use classes. In Java, for example, it is even required. In Python, it is certainly not a must. Often, just a ‘bag of functions’ is sufficient.</p>
<p>However, if used properly, classes may provide very useful functionality and a lot of power to your code.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>